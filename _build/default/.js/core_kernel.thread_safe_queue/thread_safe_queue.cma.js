// Generated by js_of_ocaml
//# buildInfo:effects=false, use-js-string=false, version=5.0.1
(function
   (globalThis)
   {"use strict";
    var
     runtime=globalThis.jsoo_runtime,
     caml_register_global=runtime.caml_register_global,
     caml_string_of_jsbytes=runtime.caml_string_of_jsbytes;
    function caml_call1(f,a0)
     {return f.length == 1?f(a0):runtime.caml_call_gen(f,[a0])}
    function caml_call2(f,a0,a1)
     {return f.length == 2?f(a0,a1):runtime.caml_call_gen(f,[a0,a1])}
    function caml_call4(f,a0,a1,a2,a3)
     {return f.length == 4
              ?f(a0,a1,a2,a3)
              :runtime.caml_call_gen(f,[a0,a1,a2,a3])}
    function caml_call5(f,a0,a1,a2,a3,a4)
     {return f.length == 5
              ?f(a0,a1,a2,a3,a4)
              :runtime.caml_call_gen(f,[a0,a1,a2,a3,a4])}
    var
     global_data=runtime.caml_get_global_data(),
     cst_Thread_safe_queue_Import=
      caml_string_of_jsbytes("Thread_safe_queue__Import"),
     cst_thread_safe_queue=caml_string_of_jsbytes("thread_safe_queue"),
     cst_thread_safe_queue_src_impo=
      caml_string_of_jsbytes("thread_safe_queue/src/import.ml"),
     cst=caml_string_of_jsbytes(""),
     cst_thread_safe_queue$0=caml_string_of_jsbytes("thread_safe_queue"),
     cst_thread_safe_queue$1=caml_string_of_jsbytes("thread_safe_queue"),
     cst_Thread_safe_queue_Import$0=
      caml_string_of_jsbytes("Thread_safe_queue__Import"),
     cst_Thread_safe_queue_dequeue_=
      caml_string_of_jsbytes("Thread_safe_queue.dequeue_exn of empty queue"),
     cst_Thread_safe_queue=caml_string_of_jsbytes("Thread_safe_queue"),
     cst_thread_safe_queue$2=caml_string_of_jsbytes("thread_safe_queue"),
     cst_thread_safe_queue_src_thre=
      caml_string_of_jsbytes("thread_safe_queue/src/thread_safe_queue.ml"),
     cst$0=caml_string_of_jsbytes(""),
     cst_thread_safe_queue$3=caml_string_of_jsbytes("thread_safe_queue"),
     cst_unused_elts=caml_string_of_jsbytes("unused_elts"),
     cst_back=caml_string_of_jsbytes("back"),
     cst_front=caml_string_of_jsbytes("front"),
     cst_length=caml_string_of_jsbytes("length"),
     cst_thread_safe_queue$4=caml_string_of_jsbytes("thread_safe_queue"),
     cst_Thread_safe_queue$0=caml_string_of_jsbytes("Thread_safe_queue"),
     Ppx_module_timer_runtime=global_data.Ppx_module_timer_runtime,
     Ppx_bench_lib_Benchmark_accumu=
      global_data.Ppx_bench_lib__Benchmark_accumulator,
     Expect_test_collector=global_data.Expect_test_collector,
     Ppx_inline_test_lib_Runtime=global_data.Ppx_inline_test_lib__Runtime,
     Uopt=global_data.Uopt,
     Core=global_data.Core,
     Assert_failure=global_data.Assert_failure,
     Base_Invariant=global_data.Base__Invariant;
    global_data.Base__Field;
    var
     Sexplib0_Sexp_conv=global_data.Sexplib0__Sexp_conv,
     Thread_safe_queue=[0];
    caml_register_global(35,Thread_safe_queue,"Thread_safe_queue__");
    caml_call1(Ppx_module_timer_runtime[4],cst_Thread_safe_queue_Import);
    caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1],cst_thread_safe_queue);
    caml_call1(Expect_test_collector[5][1],cst_thread_safe_queue_src_impo);
    caml_call2(Ppx_inline_test_lib_Runtime[2],cst_thread_safe_queue$0,cst);
    caml_call1(Ppx_inline_test_lib_Runtime[3],cst_thread_safe_queue$1);
    caml_call1(Expect_test_collector[5][2],0);
    caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2],0);
    caml_call1(Ppx_module_timer_runtime[5],cst_Thread_safe_queue_Import$0);
    var Thread_safe_queue_Import=[0];
    caml_register_global
     (40,Thread_safe_queue_Import,"Thread_safe_queue__Import");
    caml_call1(Ppx_module_timer_runtime[4],cst_Thread_safe_queue);
    caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1],cst_thread_safe_queue$2);
    caml_call1(Expect_test_collector[5][1],cst_thread_safe_queue_src_thre);
    caml_call2(Ppx_inline_test_lib_Runtime[2],cst_thread_safe_queue$3,cst$0);
    var
     _v_=[0,caml_string_of_jsbytes("_")],
     _w_=
      [0,
       caml_string_of_jsbytes("thread_safe_queue/src/thread_safe_queue.ml"),
       102,
       3230,
       3248],
     _t_=[0,caml_string_of_jsbytes("_")],
     _s_=
      [0,
       caml_string_of_jsbytes("thread_safe_queue/src/thread_safe_queue.ml"),
       43,
       36],
     _q_=
      [0,
       caml_string_of_jsbytes("thread_safe_queue/src/thread_safe_queue.ml"),
       52,
       13],
     _r_=
      [0,
       caml_string_of_jsbytes("thread_safe_queue/src/thread_safe_queue.ml"),
       54,
       11],
     _p_=
      [0,
       caml_string_of_jsbytes("thread_safe_queue/src/thread_safe_queue.ml"),
       55,
       32],
     _o_=
      [0,
       caml_string_of_jsbytes("thread_safe_queue/src/thread_safe_queue.ml"),
       62,
       13],
     _u_=
      [0,
       caml_string_of_jsbytes("thread_safe_queue/src/thread_safe_queue.ml"),
       40,
       1533,
       1555],
     _k_=[0,caml_string_of_jsbytes("unused_elts")],
     _l_=[0,caml_string_of_jsbytes("back")],
     _m_=[0,caml_string_of_jsbytes("front")],
     _n_=[0,caml_string_of_jsbytes("length")],
     _a_=[0,caml_string_of_jsbytes("next")],
     _b_=[0,caml_string_of_jsbytes("value")];
    function sexp_of_t(of_a_001,param)
     {var
       value_003=param[1],
       next_005=param[2],
       arg_006=caml_call1(Sexplib0_Sexp_conv[23],next_005),
       bnds_002=[0,[1,[0,_a_,[0,arg_006,0]]],0],
       arg_004=caml_call2(Uopt[1],of_a_001,value_003),
       bnds_002$0=[0,[1,[0,_b_,[0,arg_004,0]]],bnds_002];
      return [1,bnds_002$0]}
    function create(param){return [0,Uopt[3],Uopt[3]]}
    function unused_elts(r){return r[4]}
    function set_unused_elts(r,v){r[4] = v;return 0}
    function back(r){return r[3]}
    function set_back(r,v){r[3] = v;return 0}
    function front(r){return r[2]}
    function set_front(r,v){r[2] = v;return 0}
    function length(r){return r[1]}
    function set_length(r,v){r[1] = v;return 0}
    function _c_(r,v){return [0,r[1],r[2],r[3],v]}
    var
     _d_=[0,set_unused_elts],
     unused_elts$0=
      [0,function(param){return 0},cst_unused_elts,_d_,unused_elts,_c_];
    function _e_(r,v){return [0,r[1],r[2],v,r[4]]}
    var
     _f_=[0,set_back],
     back$0=[0,function(param){return 0},cst_back,_f_,back,_e_];
    function _g_(r,v){return [0,r[1],v,r[3],r[4]]}
    var
     _h_=[0,set_front],
     front$0=[0,function(param){return 0},cst_front,_h_,front,_g_];
    function _i_(r,v){return [0,v,r[2],r[3],r[4]]}
    var
     _j_=[0,set_length],
     length$0=[0,function(param){return 0},cst_length,_j_,length,_i_];
    function sexp_of_t$0(of_a_007,param)
     {var
       length_009=param[1],
       front_011=param[2],
       back_013=param[3],
       unused_elts_015=param[4],
       bnds_008=0;
      function _C_(_D_){return sexp_of_t(of_a_007,_D_)}
      var
       arg_016=caml_call2(Uopt[1],_C_,unused_elts_015),
       bnds_008$0=[0,[1,[0,_k_,[0,arg_016,0]]],bnds_008],
       arg_014=sexp_of_t(of_a_007,back_013),
       bnds_008$1=[0,[1,[0,_l_,[0,arg_014,0]]],bnds_008$0],
       arg_012=sexp_of_t(of_a_007,front_011),
       bnds_008$2=[0,[1,[0,_m_,[0,arg_012,0]]],bnds_008$1],
       arg_010=caml_call1(Core[356],length_009),
       bnds_008$3=[0,[1,[0,_n_,[0,arg_010,0]]],bnds_008$2];
      return [1,bnds_008$3]}
    function invariant(invariant_a,t)
     {function _A_(param)
       {function check(f){return caml_call2(Base_Invariant[2],t,f)}
        var
         unused_elts_fun=
          check
           (function(unused_elts)
             {var r=[0,unused_elts];
              for(;;)
               {if(! caml_call1(Uopt[6],r[1]))return 0;
                var elt=caml_call1(Uopt[7],r[1]);
                r[1] = elt[2];
                if(caml_call1(Uopt[5],elt[1]))continue;
                throw [0,Assert_failure,_o_]}}),
         back_fun=
          check
           (function(back)
             {if(caml_call1(Uopt[5],back[1]))return 0;
              throw [0,Assert_failure,_p_]}),
         front_fun=
          check
           (function(front)
             {var i=[0,t[1]],r=[0,front];
              for(;;)
               {if(caml_call2(Core[91],i[1],0))
                 {i[1] += -1;
                  var elt=r[1];
                  r[1] = caml_call1(Uopt[7],elt[2]);
                  if(caml_call1(Uopt[6],elt[1]))continue;
                  throw [0,Assert_failure,_q_]}
                if(caml_call2(Core[246],r[1],t[3]))return 0;
                throw [0,Assert_failure,_r_]}}),
         length_fun=
          check
           (function(length)
             {if(caml_call2(Core[88],length,0))return 0;
              throw [0,Assert_failure,_s_]});
        caml_call1(length_fun,length$0);
        caml_call1(front_fun,front$0);
        caml_call1(back_fun,back$0);
        return caml_call1(unused_elts_fun,unused_elts$0)}
      function _B_(x_017)
       {return sexp_of_t$0(function(param){return _t_},x_017)}
      return caml_call4(Base_Invariant[1],_u_,t,_B_,_A_)}
    function create$0(param){var elt=create(0);return [0,0,elt,elt,Uopt[3]]}
    function enqueue(t,a)
     {if(caml_call1(Uopt[6],t[4]))
       {var elt=caml_call1(Uopt[8],t[4]);t[4] = elt[2];var new_back=elt}
      else
       var new_back=create(0);
      t[1] = t[1] + 1 | 0;
      var _y_=caml_call1(Uopt[4],a);
      t[3][1] = _y_;
      var _z_=caml_call1(Uopt[4],new_back);
      t[3][2] = _z_;
      t[3] = new_back;
      return 0}
    function dequeue_exn(t)
     {if(caml_call2(Core[90],t[1],0))
       {var
         _x_=
          function(x_018)
           {return sexp_of_t$0(function(param){return _v_},x_018)};
        caml_call5(Core[236],0,_w_,cst_Thread_safe_queue_dequeue_,t,_x_)}
      var elt=t[2],a=elt[1];
      t[2] = caml_call1(Uopt[8],elt[2]);
      t[1] = t[1] - 1 | 0;
      elt[1] = Uopt[3];
      elt[2] = t[4];
      t[4] = caml_call1(Uopt[4],elt);
      return caml_call1(Uopt[8],a)}
    function clear_internal_pool(t){t[4] = Uopt[3];return 0}
    caml_call1(Ppx_inline_test_lib_Runtime[3],cst_thread_safe_queue$4);
    caml_call1(Expect_test_collector[5][2],0);
    caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2],0);
    caml_call1(Ppx_module_timer_runtime[5],cst_Thread_safe_queue$0);
    var
     Thread_safe_queue$0=
      [0,
       sexp_of_t$0,
       invariant,
       create$0,
       length,
       enqueue,
       dequeue_exn,
       clear_internal_pool,
       [0,[0,Uopt[1],Uopt[3],Uopt[4],Uopt[5],Uopt[6]]]];
    caml_register_global(47,Thread_safe_queue$0,"Thread_safe_queue");
    return}
  (globalThis));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLjAsImZpbGUiOiJ0aHJlYWRfc2FmZV9xdWV1ZS5jbWEuanMiLCJzb3VyY2VSb290IjoiIiwibmFtZXMiOlsic2V4cF9vZl90Iiwib2ZfYV8wMDEiLCJ2YWx1ZV8wMDMiLCJuZXh0XzAwNSIsImFyZ18wMDYiLCJibmRzXzAwMiIsImFyZ18wMDQiLCJibmRzXzAwMiQwIiwiY3JlYXRlIiwidW51c2VkX2VsdHMiLCJyIiwic2V0X3VudXNlZF9lbHRzIiwidiIsImJhY2siLCJzZXRfYmFjayIsImZyb250Iiwic2V0X2Zyb250IiwibGVuZ3RoIiwic2V0X2xlbmd0aCIsInVudXNlZF9lbHRzJDAiLCJiYWNrJDAiLCJmcm9udCQwIiwibGVuZ3RoJDAiLCJzZXhwX29mX3QkMCIsIm9mX2FfMDA3IiwibGVuZ3RoXzAwOSIsImZyb250XzAxMSIsImJhY2tfMDEzIiwidW51c2VkX2VsdHNfMDE1IiwiYm5kc18wMDgiLCJhcmdfMDE2IiwiYm5kc18wMDgkMCIsImFyZ18wMTQiLCJibmRzXzAwOCQxIiwiYXJnXzAxMiIsImJuZHNfMDA4JDIiLCJhcmdfMDEwIiwiYm5kc18wMDgkMyIsImludmFyaWFudCIsImludmFyaWFudF9hIiwidCIsImNoZWNrIiwiZiIsInVudXNlZF9lbHRzX2Z1biIsImVsdCIsImJhY2tfZnVuIiwiZnJvbnRfZnVuIiwiaSIsImxlbmd0aF9mdW4iLCJ4XzAxNyIsImNyZWF0ZSQwIiwiZW5xdWV1ZSIsImEiLCJuZXdfYmFjayIsImRlcXVldWVfZXhuIiwieF8wMTgiLCJjbGVhcl9pbnRlcm5hbF9wb29sIl0sInNvdXJjZXMiOlsiL2hvbWUvYmVuLy5vcGFtLzQuMTQvbGliL2NvcmVfa2VybmVsL3RocmVhZF9zYWZlX3F1ZXVlL3RocmVhZF9zYWZlX3F1ZXVlLm1sIl0sIm1hcHBpbmdzIjoiOzs7OztJOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7YUFpQkVBLFVBQUtDO01BQUw7OztPQUVZOztPQURBLDJCQURQQSxTQUNPQzsrQ0FEWkc7TUFDWSxVQURaRSxXQUlvQjthQUVoQkMsY0FBWSwwQkFBdUM7YUFXN0NDLDBCQUFXO2FBQVhFLHNDQUFXO2FBSFhFLG1CQUFJO2FBQUpDLCtCQUFJO2FBREpDLG9CQUFLO2FBQUxDLGdDQUFLO2FBSExDLHFCQUFNO2FBQU5DLGlDQUFNO2lCQU9OUixnQ0FBVzs7WUFBWEM7O2lDQUFXLHNCQUFYRjtpQkFIQUMsZ0NBQUk7O1lBQUpJO3VDQUFJLGVBQUpEO2lCQURBSCxnQ0FBSzs7WUFBTE07d0NBQUssZ0JBQUxEO2lCQUhBTCxnQ0FBTTs7WUFBTlE7eUNBQU0saUJBQU5EO2FBRFpNLFlBQUtDO01BQUw7Ozs7Ozt3QixPQVRFeEIsVUFTR3dCO01BUU87OytDQVJaSztPQUtZLFFBZFY3QixVQVNHd0IsU0FLT0c7K0NBTFpJO09BSVksUUFiVi9CLFVBU0d3QixTQUlPRTsrQ0FKWk87T0FDWTsrQ0FEWkU7TUFDWSxVQURaRSxXQVU0QjthQUV4QkMsVUFBVUMsWUFBYUM7TUFDekI7UUFDRSxTQUFJQyxNQUFNQyxHQUFJLG9DQUZTRixFQUViRSxFQUE2QjtRQWdCbkM7O1VBaEJBRDtxQkFnQlloQztjQUNULElBQUlDLEtBREtEOztnQkFFSCx3QkFERkMsTUFqQkc7Z0JBbUJLLElBQU5rQyxJQUFNLG1CQUZSbEM7Z0JBRVEsT0FBTmtDO2dCQUVHLHNCQUZIQTs2Q0FHRjtTQVJIO1VBZEpIO3FCQWNnQjVCO2NBQWUsc0JBQWZBOzBDQUE0QztTQVY1RDtVQUpBNEI7cUJBSVkxQjtjQUNULFNBUGdCeUIsTUFPaEIsS0FEU3pCOztnQkFHSCx1QkFGRmdDO2tCQUdGO3NCQUNJSCxJQUhGbEM7a0JBSUcsMEJBRERrQztrQkFFRyxzQkFGSEE7O2dCQUlDLHdCQVBIbEMsS0FSWThCOzZDQWVhO1NBWDFCO1VBRk5DO3FCQUVrQnhCO2NBQWlCLHVCQUFqQkE7MENBQThCO1FBaEJoRCxzQkFDSUs7UUFESixxQkFJSUQ7UUFKSixvQkFLSUQ7UUFMSixrQ0FRSUQsY0E0Qks7TUF2QmYsYUFBeUM4QjtRLE9BYjNDMUIsNEIsWUFhMkMwQjtNQUF6Qyx3Q0FEeUJULFVBd0JUO2FBR2RVLGdCQUNRLElBQU5OLElBM0NBcEMsVUEyQ00sWUFBTm9DLGdCQUM0RDthQWE5RE8sUUFBa0JYLEVBQVVZO01BUjNCLHNCQVFpQlo7UUFOUixJQUFOSSxJQUFNLG1CQU1RSixNQU5SLE9BQU5JLE9BQU0sSUFPUlMsU0FQRVQ7O1dBT0ZTLFNBMURBN0M7TUF5RGdCZ0M7TUFJSiwyQkFKY1k7TUFJZDtjQUNELG1CQUpYQztNQUlXO2FBSlhBO01BSVcsUUFDRzthQWtCaEJDLFlBQVlkO01BRVgsdUJBRldBO1FBSGQ7O21CQUFvRmU7WSxPQTNFdEZoQyw0QixZQTJFc0ZnQztRQUFwRiwwREFHY2Y7TUFFNEIsUUFGNUJBLEtBRTRCLEVBQ3RDSTtNQUVPLDBCQUZQQTtNQUVPLE9BTEdKO01BWGQ7ZUFXY0E7TUFURywwQkFZYkk7Z0NBQ0FRLEVBS2U7YUFHakJJLG9CQUFvQmhCLEdBQUksdUJBQTBCOzs7Ozs7OztPQTFGdERqQjtPQVlJZTtPQTJCQVk7T0F0Q1FqQztPQXFEUmtDO09Bd0JBRztPQVlBRTs7O1UiLCJzb3VyY2VzQ29udGVudCI6WyIoKiBUaGlzIG1vZHVsZSBleHBsb2l0cyB0aGUgZmFjdCB0aGF0IE9DYW1sIGRvZXMgbm90IHBlcmZvcm0gY29udGV4dC1zd2l0Y2hlcyB1bmRlclxuICAgY2VydGFpbiBjb25kaXRpb25zLiAgSXQgY2FuIHRoZXJlZm9yZSBhdm9pZCB1c2luZyBtdXRleGVzLlxuXG4gICBHaXZlbiB0aGUgc2VtYW50aWNzIG9mIHRoZSBjdXJyZW50IE9DYW1sIHJ1bnRpbWUgKGFuZCBmb3IgdGhlIGZvcmVzZWVhYmxlIGZ1dHVyZSksIGNvZGVcbiAgIHNlY3Rpb25zIGRvY3VtZW50ZWQgYXMgYXRvbWljIGJlbG93IHdpbGwgbmV2ZXIgY29udGFpbiBhIGNvbnRleHQtc3dpdGNoLiAgVGhlIGRlY2lkaW5nXG4gICBjcml0ZXJpb24gaXMgd2hldGhlciB0aGV5IGNvbnRhaW4gYWxsb2NhdGlvbnMgb3IgY2FsbHMgdG8gZXh0ZXJuYWwvYnVpbHRpbiBmdW5jdGlvbnMuXG4gICBJZiB0aGVyZSBpcyBub25lLCBhIGNvbnRleHQtc3dpdGNoIGNhbm5vdCBoYXBwZW4uICBBc3NpZ25tZW50cyB3aXRob3V0IGFsbG9jYXRpb25zLFxuICAgZmllbGQgYWNjZXNzLCBwYXR0ZXJuLW1hdGNoaW5nLCBldGMuLCBkbyBub3QgdHJpZ2dlciBjb250ZXh0LXN3aXRjaGVzLlxuXG4gICBDb2RlIHJldmlld2VycyBzaG91bGQgdGhlcmVmb3JlIG1ha2Ugc3VyZSB0aGF0IHRoZSBzZWN0aW9ucyBkb2N1bWVudGVkIGFzIGF0b21pYyBiZWxvd1xuICAgZG8gbm90IHZpb2xhdGUgdGhlIGFib3ZlIGFzc3VtcHRpb25zLiAgSXQgaXMgcHJ1ZGVudCB0byBkaXNhc3NlbWJsZSB0aGUgLm8gZmlsZSAodXNpbmdcbiAgIFtvYmpkdW1wIC1kcl0pIGFuZCBleGFtaW5lIGl0LiAqKVxuXG5vcGVuISBDb3JlXG5vcGVuISBJbXBvcnRcblxubW9kdWxlIEVsdCA9IHN0cnVjdFxuICB0eXBlICdhIHQgPVxuICAgIHsgbXV0YWJsZSB2YWx1ZSA6ICdhIFVvcHQudFxuICAgIDsgbXV0YWJsZSBuZXh0IDogKCdhIHQgVW9wdC50W0BzZXhwLm9wYXF1ZV0pXG4gICAgfVxuICBbQEBkZXJpdmluZyBzZXhwX29mXVxuXG4gIGxldCBjcmVhdGUgKCkgPSB7IHZhbHVlID0gVW9wdC5ub25lOyBuZXh0ID0gVW9wdC5ub25lIH1cbmVuZFxuXG50eXBlICdhIHQgPVxuICB7IG11dGFibGUgbGVuZ3RoIDogaW50XG4gICgqIFtmcm9udF0gdG8gW2JhY2tdIGhhcyBbbGVuZ3RoICsgMV0gbGlua2VkIGVsZW1lbnRzLCB3aGVyZSB0aGUgZmlyc3QgW2xlbmd0aF0gaG9sZCB0aGVcbiAgICAgdmFsdWVzIGluIHRoZSBxdWV1ZSwgYW5kIHRoZSBsYXN0IGlzIFtiYWNrXSwgaG9sZGluZyBubyB2YWx1ZS4gKilcbiAgOyBtdXRhYmxlIGZyb250IDogJ2EgRWx0LnRcbiAgOyBtdXRhYmxlIGJhY2sgOiAnYSBFbHQudFxuICAoKiBbdW51c2VkX2VsdHNdIGlzIHNpbmdseSBsaW5rZWQgdmlhIFtuZXh0XSwgYW5kIGVuZHMgd2l0aCBbc2VudGluZWxdLiAgQWxsIGVsdHMgaW5cbiAgICAgW3VudXNlZF9lbHRzXSBoYXZlIFtVb3B0LmlzX25vbmUgZWx0LnZhbHVlXS4gKilcbiAgOyBtdXRhYmxlIHVudXNlZF9lbHRzIDogJ2EgRWx0LnQgVW9wdC50XG4gIH1cbltAQGRlcml2aW5nIGZpZWxkcywgc2V4cF9vZl1cblxubGV0IGludmFyaWFudCBfaW52YXJpYW50X2EgdCA9XG4gIEludmFyaWFudC5pbnZhcmlhbnQgWyVoZXJlXSB0IFslc2V4cF9vZjogXyB0XSAoZnVuICgpIC0+XG4gICAgbGV0IGNoZWNrIGYgPSBJbnZhcmlhbnQuY2hlY2tfZmllbGQgdCBmIGluXG4gICAgRmllbGRzLml0ZXJcbiAgICAgIH5sZW5ndGg6KGNoZWNrIChmdW4gbGVuZ3RoIC0+IGFzc2VydCAobGVuZ3RoID49IDApKSlcbiAgICAgIH5mcm9udDpcbiAgICAgICAgKGNoZWNrIChmdW4gZnJvbnQgLT5cbiAgICAgICAgICAgbGV0IGkgPSByZWYgdC5sZW5ndGggaW5cbiAgICAgICAgICAgbGV0IHIgPSByZWYgZnJvbnQgaW5cbiAgICAgICAgICAgd2hpbGUgIWkgPiAwIGRvXG4gICAgICAgICAgICAgZGVjciBpO1xuICAgICAgICAgICAgIGxldCBlbHQgPSAhciBpblxuICAgICAgICAgICAgIHIgOj0gVW9wdC52YWx1ZV9leG4gZWx0LkVsdC5uZXh0O1xuICAgICAgICAgICAgIGFzc2VydCAoVW9wdC5pc19zb21lIGVsdC52YWx1ZSlcbiAgICAgICAgICAgZG9uZTtcbiAgICAgICAgICAgYXNzZXJ0IChwaHlzX2VxdWFsICFyIHQuYmFjaykpKVxuICAgICAgfmJhY2s6KGNoZWNrIChmdW4gYmFjayAtPiBhc3NlcnQgKFVvcHQuaXNfbm9uZSBiYWNrLkVsdC52YWx1ZSkpKVxuICAgICAgfnVudXNlZF9lbHRzOlxuICAgICAgICAoY2hlY2sgKGZ1biB1bnVzZWRfZWx0cyAtPlxuICAgICAgICAgICBsZXQgciA9IHJlZiB1bnVzZWRfZWx0cyBpblxuICAgICAgICAgICB3aGlsZSBVb3B0LmlzX3NvbWUgIXIgZG9cbiAgICAgICAgICAgICBsZXQgZWx0ID0gVW9wdC52YWx1ZV9leG4gIXIgaW5cbiAgICAgICAgICAgICByIDo9IGVsdC5FbHQubmV4dDtcbiAgICAgICAgICAgICBhc3NlcnQgKFVvcHQuaXNfbm9uZSBlbHQudmFsdWUpXG4gICAgICAgICAgIGRvbmUpKSlcbjs7XG5cbmxldCBjcmVhdGUgKCkgPVxuICBsZXQgZWx0ID0gRWx0LmNyZWF0ZSAoKSBpblxuICB7IGZyb250ID0gZWx0OyBiYWNrID0gZWx0OyBsZW5ndGggPSAwOyB1bnVzZWRfZWx0cyA9IFVvcHQubm9uZSB9XG47O1xuXG5sZXQgZ2V0X3VudXNlZF9lbHQgdCA9XG4gICgqIEJFR0lOIEFUT01JQyBTRUNUSU9OICopXG4gIGlmIFVvcHQuaXNfc29tZSB0LnVudXNlZF9lbHRzXG4gIHRoZW4gKFxuICAgIGxldCBlbHQgPSBVb3B0LnVuc2FmZV92YWx1ZSB0LnVudXNlZF9lbHRzIGluXG4gICAgdC51bnVzZWRfZWx0cyA8LSBlbHQubmV4dDtcbiAgICBlbHQgKCogRU5EIEFUT01JQyBTRUNUSU9OICopKVxuICBlbHNlIEVsdC5jcmVhdGUgKClcbjs7XG5cbmxldCBlbnF1ZXVlICh0eXBlIGEpICh0IDogYSB0KSAoYSA6IGEpID1cbiAgbGV0IG5ld19iYWNrID0gZ2V0X3VudXNlZF9lbHQgdCBpblxuICAoKiBCRUdJTiBBVE9NSUMgU0VDVElPTiAqKVxuICB0Lmxlbmd0aCA8LSB0Lmxlbmd0aCArIDE7XG4gIHQuYmFjay52YWx1ZSA8LSBVb3B0LnNvbWUgYTtcbiAgdC5iYWNrLm5leHQgPC0gVW9wdC5zb21lIG5ld19iYWNrO1xuICB0LmJhY2sgPC0gbmV3X2JhY2tcbjs7XG5cbigqIEVORCBBVE9NSUMgU0VDVElPTiAqKVxuXG5sZXQgcmV0dXJuX3VudXNlZF9lbHQgdCAoZWx0IDogXyBFbHQudCkgPVxuICAoKiBCRUdJTiBBVE9NSUMgU0VDVElPTiAqKVxuICBlbHQudmFsdWUgPC0gVW9wdC5ub25lO1xuICBlbHQubmV4dCA8LSB0LnVudXNlZF9lbHRzO1xuICB0LnVudXNlZF9lbHRzIDwtIFVvcHQuc29tZSBlbHQ7XG4gICgqIEVORCBBVE9NSUMgU0VDVElPTiAqKVxuICAoKVxuOztcblxubGV0W0Bjb2xkXSByYWlzZV9kZXF1ZXVlX2VtcHR5IHQgPVxuICBmYWlsd2l0aHMgfmhlcmU6WyVoZXJlXSBcIlRocmVhZF9zYWZlX3F1ZXVlLmRlcXVldWVfZXhuIG9mIGVtcHR5IHF1ZXVlXCIgdCBbJXNleHBfb2Y6IF8gdF1cbjs7XG5cbmxldCBkZXF1ZXVlX2V4biB0ID1cbiAgKCogQkVHSU4gQVRPTUlDIFNFQ1RJT04gKilcbiAgaWYgdC5sZW5ndGggPSAwIHRoZW4gcmFpc2VfZGVxdWV1ZV9lbXB0eSB0O1xuICBsZXQgZWx0ID0gdC5mcm9udCBpblxuICBsZXQgYSA9IGVsdC52YWx1ZSBpblxuICB0LmZyb250IDwtIFVvcHQudW5zYWZlX3ZhbHVlIGVsdC5uZXh0O1xuICB0Lmxlbmd0aCA8LSB0Lmxlbmd0aCAtIDE7XG4gICgqIEVORCBBVE9NSUMgU0VDVElPTiAqKVxuICByZXR1cm5fdW51c2VkX2VsdCB0IGVsdDtcbiAgVW9wdC51bnNhZmVfdmFsdWUgYVxuOztcblxubGV0IGNsZWFyX2ludGVybmFsX3Bvb2wgdCA9IHQudW51c2VkX2VsdHMgPC0gVW9wdC5ub25lXG5cbm1vZHVsZSBQcml2YXRlID0gc3RydWN0XG4gIG1vZHVsZSBVb3B0ID0gVW9wdFxuZW5kXG4iXX0=
