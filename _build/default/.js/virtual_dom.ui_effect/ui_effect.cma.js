// Generated by js_of_ocaml
//# buildInfo:effects=false, use-js-string=false, version=5.0.1
(function
   (globalThis)
   {"use strict";
    var
     runtime=globalThis.jsoo_runtime,
     caml_fresh_oo_id=runtime.caml_fresh_oo_id,
     caml_register_global=runtime.caml_register_global,
     caml_string_of_jsbytes=runtime.caml_string_of_jsbytes;
    function caml_call1(f,a0)
     {return f.length == 1?f(a0):runtime.caml_call_gen(f,[a0])}
    function caml_call2(f,a0,a1)
     {return f.length == 2?f(a0,a1):runtime.caml_call_gen(f,[a0,a1])}
    function caml_call3(f,a0,a1,a2)
     {return f.length == 3?f(a0,a1,a2):runtime.caml_call_gen(f,[a0,a1,a2])}
    var
     global_data=runtime.caml_get_global_data(),
     cst_Ui_effect_Ui_effect_intf=
      caml_string_of_jsbytes("Ui_effect__Ui_effect_intf"),
     cst_ui_effect=caml_string_of_jsbytes("ui_effect"),
     cst_ui_effect_ui_effect_intf_m=
      caml_string_of_jsbytes("ui_effect/ui_effect_intf.ml"),
     cst=caml_string_of_jsbytes(""),
     cst_ui_effect$0=caml_string_of_jsbytes("ui_effect"),
     cst_ui_effect$1=caml_string_of_jsbytes("ui_effect"),
     cst_Ui_effect_Ui_effect_intf$0=
      caml_string_of_jsbytes("Ui_effect__Ui_effect_intf"),
     cst_on_response_called_multipl=
      caml_string_of_jsbytes("on_response called multiple times!"),
     cst_Unrecognized_variant$0=caml_string_of_jsbytes("Unrecognized variant"),
     cst_Ui_effect_Define1_Handler_=
      caml_string_of_jsbytes("Ui_effect.Define1(Handler).C"),
     cst_Unrecognized_variant=caml_string_of_jsbytes("Unrecognized variant"),
     cst_Ui_effect_Define_Handler_C=
      caml_string_of_jsbytes("Ui_effect.Define(Handler).C"),
     cst_Ui_effect=caml_string_of_jsbytes("Ui_effect"),
     cst_ui_effect$2=caml_string_of_jsbytes("ui_effect"),
     cst_ui_effect_ui_effect_ml=
      caml_string_of_jsbytes("ui_effect/ui_effect.ml"),
     cst$0=caml_string_of_jsbytes(""),
     cst_ui_effect$3=caml_string_of_jsbytes("ui_effect"),
     cst_Ui_effect_Ignore=caml_string_of_jsbytes("Ui_effect.Ignore"),
     cst_Ui_effect_Many=caml_string_of_jsbytes("Ui_effect.Many"),
     cst_Ui_effect_Return=caml_string_of_jsbytes("Ui_effect.Return"),
     cst_Ui_effect_Lazy=caml_string_of_jsbytes("Ui_effect.Lazy"),
     cst_Ui_effect_Bind=caml_string_of_jsbytes("Ui_effect.Bind"),
     cst_Ui_effect_Map=caml_string_of_jsbytes("Ui_effect.Map"),
     cst_Ui_effect_Never=caml_string_of_jsbytes("Ui_effect.Never"),
     cst_Ui_effect_Fun=caml_string_of_jsbytes("Ui_effect.Fun"),
     cst_ui_effect$4=caml_string_of_jsbytes("ui_effect"),
     cst_Ui_effect$0=caml_string_of_jsbytes("Ui_effect"),
     Ppx_module_timer_runtime=global_data.Ppx_module_timer_runtime,
     Ppx_bench_lib_Benchmark_accumu=
      global_data.Ppx_bench_lib__Benchmark_accumulator,
     Expect_test_collector=global_data.Expect_test_collector,
     Ppx_inline_test_lib_Runtime=global_data.Ppx_inline_test_lib__Runtime,
     CamlinternalLazy=global_data.CamlinternalLazy,
     Core_List=global_data.Core__List,
     Core_Bag=global_data.Core__Bag,
     Core=global_data.Core,
     Core_Hashtbl=global_data.Core__Hashtbl,
     Stdlib_Obj=global_data.Stdlib__Obj,
     Sexplib0_Sexp_conv=global_data.Sexplib0__Sexp_conv,
     Core_Int=global_data.Core__Int,
     Base_Monad=global_data.Base__Monad,
     Ui_effect=[0];
    caml_register_global(28,Ui_effect,"Ui_effect__");
    caml_call1(Ppx_module_timer_runtime[4],cst_Ui_effect_Ui_effect_intf);
    caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1],cst_ui_effect);
    caml_call1(Expect_test_collector[5][1],cst_ui_effect_ui_effect_intf_m);
    caml_call2(Ppx_inline_test_lib_Runtime[2],cst_ui_effect$0,cst);
    caml_call1(Ppx_inline_test_lib_Runtime[3],cst_ui_effect$1);
    caml_call1(Expect_test_collector[5][2],0);
    caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2],0);
    caml_call1(Ppx_module_timer_runtime[5],cst_Ui_effect_Ui_effect_intf$0);
    var Ui_effect_Ui_effect_intf=[0];
    caml_register_global
     (33,Ui_effect_Ui_effect_intf,"Ui_effect__Ui_effect_intf");
    caml_call1(Ppx_module_timer_runtime[4],cst_Ui_effect);
    caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1],cst_ui_effect$2);
    caml_call1(Expect_test_collector[5][1],cst_ui_effect_ui_effect_ml);
    caml_call2(Ppx_inline_test_lib_Runtime[2],cst_ui_effect$3,cst$0);
    var
     Ignore=[248,cst_Ui_effect_Ignore,caml_fresh_oo_id(0)],
     Many=[248,cst_Ui_effect_Many,caml_fresh_oo_id(0)],
     handlers=
      caml_call3
       (Core_Hashtbl[4],0,[0,8],[0,Core_Int[91],Core_Int[80],Core_Int[104]]);
    function Define(Handler)
     {var
       C=[248,cst_Ui_effect_Define_Handler_C,caml_fresh_oo_id(0)],
       key=caml_call1(Stdlib_Obj[22][3],C);
      function _D_(inp)
       {var _E_=inp[1],_F_=_E_[1];
        if(_F_[1] === C)
         {var callback=_E_[2],value=_F_[2];
          caml_call1(Handler[2],value);
          return caml_call1(callback,0)}
        var _G_=caml_call1(Sexplib0_Sexp_conv[7],cst_Unrecognized_variant);
        return caml_call1(Core[253],_G_)}
      caml_call3(Core_Hashtbl[36],handlers,key,_D_);
      function inject(v){return [0,C,v]}
      return [0,inject]}
    function Define1(Handler)
     {var
       C=[248,cst_Ui_effect_Define1_Handler_,caml_fresh_oo_id(0)],
       key=caml_call1(Stdlib_Obj[22][3],C);
      function _z_(inp)
       {var _A_=inp[1],_B_=_A_[1];
        if(_B_[1] === C)
         {var
           callback=_A_[2],
           value=_B_[2],
           called=[0,0],
           callback$0=
            function(a)
             {if(called[1])
               caml_call1(Core[6],cst_on_response_called_multipl);
              else
               called[1] = 1;
              return caml_call1(callback,a)};
          return caml_call2(Handler[2],value,callback$0)}
        var _C_=caml_call1(Sexplib0_Sexp_conv[7],cst_Unrecognized_variant$0);
        return caml_call1(Core[253],_C_)}
      caml_call3(Core_Hashtbl[36],handlers,key,_z_);
      function inject(v){return [0,C,v]}
      return [0,inject]}
    function handle(s){return caml_call2(Core[248],0,s)}
    var
     Print_s=Define([0,[0],handle]),
     print_s=Print_s[1],
     Return=[248,cst_Ui_effect_Return,caml_fresh_oo_id(0)],
     Lazy=[248,cst_Ui_effect_Lazy,caml_fresh_oo_id(0)],
     Bind=[248,cst_Ui_effect_Bind,caml_fresh_oo_id(0)],
     Map=[248,cst_Ui_effect_Map,caml_fresh_oo_id(0)],
     never=[248,cst_Ui_effect_Never,caml_fresh_oo_id(0)],
     Fun=[248,cst_Ui_effect_Fun,caml_fresh_oo_id(0)];
    function return$0(a){return [0,Return,a]}
    function bind(t,f){return [0,Bind,t,f]}
    function _a_(t,f){return [0,Map,t,f]}
    function of_fun(f){return [0,Fun,f]}
    function lazy(a){return [0,Lazy,a]}
    var
     map=[0,-198771759,_a_],
     include=caml_call1(Base_Monad[1],[0,bind,return$0,map]),
     symbol_bind=include[1],
     symbol_map=include[2],
     Monad_infix=include[3],
     bind$0=include[4],
     return$1=include[5],
     map$0=include[6],
     join=include[7],
     ignore_m=include[8],
     all=include[9],
     all_unit=include[10],
     Let_syntax=include[11];
    function eval$0(t,callback)
     {var t$0=t,cb=callback;
      for(;;)
       {if(t$0[1] === Fun){var f=t$0[2];return caml_call1(f,cb)}
        if(t$0 === Ignore)return caml_call1(cb,0);
        if(t$0[1] === Return){var a=t$0[2];return caml_call1(cb,a)}
        if(t$0[1] === Lazy)
         {var
           _t_=t$0[2],
           _u_=runtime.caml_obj_tag(_t_),
           t$1=
            250 === _u_
             ?_t_[1]
             :246 === _u_?caml_call1(CamlinternalLazy[2],_t_):_t_,
           t$0=t$1;
          continue}
        if(t$0[1] === Many)
         {var
           l=t$0[2],
           _v_=function(_y_){return 0},
           _w_=function(_x_){return eval$0(_x_,_v_)};
          caml_call2(Core_List[9],l,_w_);
          return caml_call1(cb,0)}
        if(t$0[1] === Bind)
         {var
           f$0=t$0[3],
           t$2=t$0[2],
           callback$2=
            function(cb,f)
             {function callback(a){return eval$0(caml_call1(f,a),cb)}
              return callback},
           callback$0=callback$2(cb,f$0),
           t$0=t$2,
           cb=callback$0;
          continue}
        if(t$0[1] === Map)
         {var
           f$1=t$0[3],
           t$3=t$0[2],
           callback$3=
            function(cb,f)
             {function callback(a){return caml_call1(cb,caml_call1(f,a))}
              return callback},
           callback$1=callback$3(cb,f$1),
           t$0=t$3,
           cb=callback$1;
          continue}
        if(t$0 === never)return 0;
        var
         _r_=caml_call1(Stdlib_Obj[22][1],t$0),
         _s_=caml_call1(Stdlib_Obj[22][3],_r_);
        return caml_call3(Core_Hashtbl[54],handlers,_s_,[0,[0,t$0,cb]])}}
    function _b_(_q_){return 0}
    function handle$0(_p_){return eval$0(_p_,_b_)}
    var Expert=[0,handle$0,handlers,of_fun],Action=[0];
    function handle$1(param,on_response)
     {var f=param[2],a=param[1];
      return caml_call1(on_response,caml_call1(f,a))}
    var Sync_fun_arg=[0,Action,handle$1],Sync_fun=Define1(Sync_fun_arg);
    function of_sync_fun(f,a){return caml_call1(Sync_fun[1],[0,a,f])}
    function make(request,on_response){return [0,request,on_response]}
    function request(param){var request=param[1];return request}
    function respond_to(param,response)
     {var on_response=param[2];return caml_call1(on_response,response)}
    var Callback=[0,make,request,respond_to];
    function make$0(request,evaluator)
     {function _m_(callback)
       {function _n_(response){caml_call1(callback,response);return Ignore}
        var
         callback$0=caml_call2(Callback[1],request,_n_),
         _o_=caml_call1(evaluator,callback$0);
        return caml_call1(Expert[1],_o_)}
      return caml_call1(Expert[3],_m_)}
    var Private=[0,Callback,make$0];
    function create(param){return [0,[0,caml_call1(Core_Bag[22],0)]]}
    function upon(t,handler)
     {var _l_=t[1];
      if(0 === _l_[0])
       {var handlers=_l_[1];
        caml_call2(Core_Bag[23],handlers,handler);
        return 0}
      var x=_l_[1];
      return caml_call1(handler,x)}
    function fill_if_empty(t,x)
     {var _j_=t[1];
      if(0 !== _j_[0])return 0;
      var handlers=_j_[1];
      function _k_(handler){return caml_call1(handler,x)}
      caml_call2(Core_Bag[7],handlers,_k_);
      t[1] = [1,x];
      return 0}
    function peek(t)
     {var _i_=t[1];if(0 === _i_[0])return 0;var x=_i_[1];return [0,x]}
    var Svar=[0,create,upon,fill_if_empty,peek],Action$0=[0];
    function handle$2(param,on_response)
     {var f=param[2],a=param[1],_h_=caml_call1(f,a);
      return caml_call2(Svar[2],_h_,on_response)}
    var Svar_fun_arg=[0,Action$0,handle$2],Svar_fun=Define1(Svar_fun_arg);
    function of_svar_fun(f,a){return caml_call1(Svar_fun[1],[0,a,f])}
    function create$0(param){return caml_call1(Core_Bag[22],0)}
    function queries_pending_response(t)
     {function _f_(param){var query=param[1];return query}
      var _g_=caml_call1(Core_Bag[17],t);
      return caml_call2(Core_List[72],_g_,_f_)}
    function maybe_respond(t,f)
     {function _e_(param)
       {var response=param[2],query=param[1],match=caml_call1(f,query);
        if(! match)return 1;
        var resp=match[1];
        caml_call2(Svar[3],response,resp);
        return 0}
      return caml_call2(Core_Bag[30],t,_e_)}
    function of_query_response_tracker(qrt)
     {function _c_(query)
       {var response=caml_call1(Svar[1],0);
        caml_call2(Core_Bag[23],qrt,[0,query,response]);
        return response}
      return function(_d_){return of_svar_fun(_c_,_d_)}}
    caml_call1(Ppx_inline_test_lib_Runtime[3],cst_ui_effect$4);
    caml_call1(Expect_test_collector[5][2],0);
    caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2],0);
    caml_call1(Ppx_module_timer_runtime[5],cst_Ui_effect$0);
    var
     Ui_effect$0=
      [0,
       Ignore,
       Many,
       symbol_bind,
       symbol_map,
       Monad_infix,
       bind$0,
       return$1,
       map$0,
       join,
       ignore_m,
       all,
       all_unit,
       Let_syntax,
       never,
       lazy,
       print_s,
       of_sync_fun,
       Define,
       Define1,
       Expert,
       Private,
       [0,
        Svar,
        of_svar_fun,
        [0,create$0,maybe_respond,queries_pending_response],
        of_query_response_tracker]];
    caml_register_global(43,Ui_effect$0,"Ui_effect");
    return}
  (globalThis));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLjAsImZpbGUiOiJ1aV9lZmZlY3QuY21hLmpzIiwic291cmNlUm9vdCI6IiIsIm5hbWVzIjpbImhhbmRsZXJzIiwia2V5IiwiaW5wIiwiY2FsbGJhY2siLCJ2YWx1ZSIsImluamVjdCIsInYiLCJjYWxsZWQiLCJjYWxsYmFjayQwIiwiYSIsImhhbmRsZSIsInMiLCJwcmludF9zIiwibmV2ZXIiLCJyZXR1cm4kMCIsImJpbmQiLCJ0IiwiZiIsIm9mX2Z1biIsImxhenkiLCJtYXAiLCJldmFsJDAiLCJ0JDAiLCJjYiIsInQkMSIsImwiLCJmJDAiLCJ0JDIiLCJjYWxsYmFjayQyIiwiZiQxIiwidCQzIiwiY2FsbGJhY2skMyIsImNhbGxiYWNrJDEiLCJoYW5kbGUkMCIsImhhbmRsZSQxIiwib25fcmVzcG9uc2UiLCJvZl9zeW5jX2Z1biIsIm1ha2UiLCJyZXF1ZXN0IiwicmVzcG9uZF90byIsInJlc3BvbnNlIiwibWFrZSQwIiwiZXZhbHVhdG9yIiwiY3JlYXRlIiwidXBvbiIsImhhbmRsZXIiLCJ4IiwiZmlsbF9pZl9lbXB0eSIsInBlZWsiLCJoYW5kbGUkMiIsIm9mX3N2YXJfZnVuIiwiY3JlYXRlJDAiLCJxdWVyaWVzX3BlbmRpbmdfcmVzcG9uc2UiLCJxdWVyeSIsIm1heWJlX3Jlc3BvbmQiLCJyZXNwIiwib2ZfcXVlcnlfcmVzcG9uc2VfdHJhY2tlciIsInFydCJdLCJzb3VyY2VzIjpbIi9ob21lL2Jlbi8ub3BhbS80LjE0L2xpYi92aXJ0dWFsX2RvbS91aV9lZmZlY3QvdWlfZWZmZWN0Lm1sIl0sIm1hcHBpbmdzIjoiOzs7OztJOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFTbUQ7Ozs7Ozs7TUFNdkM7OzttQkFHaUNFO1FBQ3ZDLFFBRHVDQSxPQUN2Qzs7Y0FDY0MsZ0JBQVBDO1VBQ0wsc0JBREtBO1VBQ0wsa0JBRFlEO1FBRGQ7d0NBSWdEO01BTGxELDRCQVRBSCxTQU1FQztN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cUJBb0NrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O09Bdkp0RnJDO09BRUFNO09BeEJBUDtPQXNFRXdCOzs7Ozs7O1FBbUVFYztXQVVFQyxTQWdCQUcsY0FSQUY7UUFrQkZJOztVIiwic291cmNlc0NvbnRlbnQiOlsib3BlbiEgQ29yZVxuaW5jbHVkZSBVaV9lZmZlY3RfaW50ZlxuXG50eXBlICdhIHQgPSAuLlxudHlwZSAnYSB0ICs9IElnbm9yZSA6IHVuaXQgdCB8IE1hbnkgOiB1bml0IHQgbGlzdCAtPiB1bml0IHRcblxuKCogV2UgdXNlIHRoaXMgdGFibGUgZm9yIGRpc3BhdGNoaW5nIHRvIHRoZSBhcHByb3ByaWF0ZSBoYW5kbGVyIGluIGFuIGVmZmljaWVudCB3YXkuICAqKVxudHlwZSBoaWRkZW4gPSBUIDogKCdhIHQgKiAoJ2EgLT4gdW5pdCkpIC0+IGhpZGRlblxuXG5sZXQgaGFuZGxlcnMgOiAoaGlkZGVuIC0+IHVuaXQpIEhhc2h0YmwuTShJbnQpLnQgPSBIYXNodGJsLmNyZWF0ZSAobW9kdWxlIEludCkgfnNpemU6OFxuXG5tb2R1bGUgRGVmaW5lIChIYW5kbGVyIDogSGFuZGxlcikgOlxuICBTIHdpdGggdHlwZSBhY3Rpb24gOj0gSGFuZGxlci5BY3Rpb24udCBhbmQgdHlwZSAnYSB0IDo9ICdhIHQgPSBzdHJ1Y3RcbiAgdHlwZSBfIHQgKz0gQyA6IEhhbmRsZXIuQWN0aW9uLnQgLT4gdW5pdCB0XG5cbiAgbGV0IGtleSA9IE9iai5FeHRlbnNpb25fY29uc3RydWN0b3IuaWQgWyVleHRlbnNpb25fY29uc3RydWN0b3IgQ11cblxuICBsZXQgKCkgPVxuICAgIEhhc2h0YmwuYWRkX2V4biBoYW5kbGVycyB+a2V5IH5kYXRhOihmdW4gaW5wIC0+XG4gICAgICBtYXRjaCBpbnAgd2l0aFxuICAgICAgfCBUIChDIHZhbHVlLCBjYWxsYmFjaykgLT5cbiAgICAgICAgSGFuZGxlci5oYW5kbGUgdmFsdWU7XG4gICAgICAgIGNhbGxiYWNrICgpXG4gICAgICB8IF8gLT4gcmFpc2VfcyBbJW1lc3NhZ2UgXCJVbnJlY29nbml6ZWQgdmFyaWFudFwiXSlcbiAgOztcblxuICBsZXQgaW5qZWN0IHYgPSBDIHZcbmVuZFxuXG5tb2R1bGUgRGVmaW5lMSAoSGFuZGxlciA6IEhhbmRsZXIxKSA6XG4gIFMxIHdpdGggdHlwZSAnYSBhY3Rpb24gOj0gJ2EgSGFuZGxlci5BY3Rpb24udCBhbmQgdHlwZSAnYSB0IDo9ICdhIHQgPSBzdHJ1Y3RcbiAgdHlwZSBfIHQgKz0gQyA6ICdhIEhhbmRsZXIuQWN0aW9uLnQgLT4gJ2EgdFxuXG4gIGxldCBrZXkgPSBPYmouRXh0ZW5zaW9uX2NvbnN0cnVjdG9yLmlkIFslZXh0ZW5zaW9uX2NvbnN0cnVjdG9yIENdXG5cbiAgbGV0ICgpID1cbiAgICBIYXNodGJsLmFkZF9leG4gaGFuZGxlcnMgfmtleSB+ZGF0YTooZnVuIGlucCAtPlxuICAgICAgbWF0Y2ggaW5wIHdpdGhcbiAgICAgIHwgVCAoQyB2YWx1ZSwgY2FsbGJhY2spIC0+XG4gICAgICAgIGxldCBjYWxsZWQgPSByZWYgZmFsc2UgaW5cbiAgICAgICAgbGV0IGNhbGxiYWNrIGEgPVxuICAgICAgICAgIGlmICFjYWxsZWRcbiAgICAgICAgICB0aGVuIGZhaWx3aXRoIFwib25fcmVzcG9uc2UgY2FsbGVkIG11bHRpcGxlIHRpbWVzIVwiXG4gICAgICAgICAgZWxzZSBjYWxsZWQgOj0gdHJ1ZTtcbiAgICAgICAgICBjYWxsYmFjayBhXG4gICAgICAgIGluXG4gICAgICAgIEhhbmRsZXIuaGFuZGxlIHZhbHVlIH5vbl9yZXNwb25zZTpjYWxsYmFja1xuICAgICAgfCBfIC0+IHJhaXNlX3MgWyVtZXNzYWdlIFwiVW5yZWNvZ25pemVkIHZhcmlhbnRcIl0pXG4gIDs7XG5cbiAgbGV0IGluamVjdCB2ID0gQyB2XG5lbmRcblxubGV0IGdldF9rZXkgdCA9IE9iai5FeHRlbnNpb25fY29uc3RydWN0b3IuaWQgKE9iai5FeHRlbnNpb25fY29uc3RydWN0b3Iub2ZfdmFsIHQpXG5cbmxldCBoYW5kbGVfcmVnaXN0ZXJlZF9ldmVudCAoVCAodCwgY2IpKSA9XG4gIEhhc2h0YmwuZmluZF9leG4gaGFuZGxlcnMgKGdldF9rZXkgdCkgKFQgKHQsIGNiKSlcbjs7XG5cbm1vZHVsZSBQcmludF9zID0gRGVmaW5lIChzdHJ1Y3RcbiAgICBtb2R1bGUgQWN0aW9uID0gU2V4cFxuXG4gICAgbGV0IGhhbmRsZSBzID0gcHJpbnRfcyBzXG4gIGVuZClcblxubGV0IHByaW50X3MgPSBQcmludF9zLmluamVjdFxuXG4oKiBFZmZlY3RmdWwgdGhpbmdzICopXG50eXBlICdhIHQgKz1cbiAgfCBSZXR1cm4gOiAnYSAtPiAnYSB0XG4gIHwgTGF6eSA6ICdhIHQgTGF6eS50IC0+ICdhIHRcbiAgfCBCaW5kIDpcbiAgICAgIHsgdCA6ICdhIHRcbiAgICAgIDsgZiA6ICdhIC0+ICdiIHRcbiAgICAgIH1cbiAgICAgIC0+ICdiIHRcbiAgfCBNYXAgOlxuICAgICAgeyB0IDogJ2EgdFxuICAgICAgOyBmIDogJ2EgLT4gJ2JcbiAgICAgIH1cbiAgICAgIC0+ICdiIHRcbiAgfCBOZXZlciA6ICdiIHRcbiAgfCBGdW4gOiAoY2FsbGJhY2s6KCdhIC0+IHVuaXQpIC0+IHVuaXQpIC0+ICdhIHRcblxubGV0IHJldHVybiBhID0gUmV0dXJuIGFcbmxldCBiaW5kICh0eXBlIGEpICh0IDogYSB0KSB+ZiA9IEJpbmQgeyB0OyBmIH1cbmxldCBtYXAgKHR5cGUgYSBiKSAodCA6IGEgdCkgfmYgOiBiIHQgPSBNYXAgeyB0OyBmIH1cbmxldCBuZXZlciA9IE5ldmVyXG5sZXQgb2ZfZnVuIH5mID0gRnVuIGZcbmxldCBsYXp5XyBhID0gTGF6eSBhXG5cbmluY2x1ZGUgQ29yZS5Nb25hZC5NYWtlIChzdHJ1Y3RcbiAgICB0eXBlIG5vbnJlYyAnYSB0ID0gJ2EgdFxuXG4gICAgbGV0IHJldHVybiA9IHJldHVyblxuICAgIGxldCBiaW5kID0gYmluZFxuICAgIGxldCBtYXAgPSBgQ3VzdG9tIG1hcFxuICBlbmQpXG5cbmxldCByZWMgZXZhbCA6IHR5cGUgYS4gYSB0IC0+IGNhbGxiYWNrOihhIC0+IHVuaXQpIC0+IHVuaXQgPVxuICBmdW4gdCB+Y2FsbGJhY2sgLT5cbiAgbWF0Y2ggdCB3aXRoXG4gIHwgRnVuIGYgLT4gZiB+Y2FsbGJhY2tcbiAgfCBJZ25vcmUgLT4gY2FsbGJhY2sgKClcbiAgfCBSZXR1cm4gYSAtPiBjYWxsYmFjayBhXG4gIHwgTGF6eSAobGF6eSB0KSAtPiBldmFsIHQgfmNhbGxiYWNrXG4gIHwgTWFueSBsIC0+XG4gICAgTGlzdC5pdGVyIGwgfmY6KGV2YWwgfmNhbGxiYWNrOmlnbm9yZSk7XG4gICAgY2FsbGJhY2sgKClcbiAgfCBCaW5kIHsgdDsgZiB9IC0+IGV2YWwgdCB+Y2FsbGJhY2s6KGZ1biBhIC0+IGV2YWwgKGYgYSkgfmNhbGxiYWNrKVxuICB8IE1hcCB7IHQ7IGYgfSAtPiBldmFsIHQgfmNhbGxiYWNrOihmdW4gYSAtPiBjYWxsYmFjayAoZiBhKSlcbiAgfCBOZXZlciAtPiAoKVxuICB8IHQgLT4gaGFuZGxlX3JlZ2lzdGVyZWRfZXZlbnQgKFQgKHQsIGNhbGxiYWNrKSlcbjs7XG5cbm1vZHVsZSBFeHBlcnQgPSBzdHJ1Y3RcbiAgbGV0IGhhbmRsZSA9IGV2YWwgfmNhbGxiYWNrOmlnbm9yZVxuXG4gIHR5cGUgaGlkZSA9IGhpZGRlbiA9IFQgOiAoJ2EgdCAqICgnYSAtPiB1bml0KSkgLT4gaGlkZVxuXG4gIGxldCBoYW5kbGVycyA9IGhhbmRsZXJzXG4gIGxldCBvZl9mdW4gPSBvZl9mdW5cbmVuZFxuXG5tb2R1bGUgQWR2YW5jZWQgPSBzdHJ1Y3RcbiAgbW9kdWxlIFN5bmNfZnVuX2FyZyA9IHN0cnVjdFxuICAgIG1vZHVsZSBBY3Rpb24gPSBzdHJ1Y3RcbiAgICAgIHR5cGUgJ3IgdCA9IFQgOiAnYSAqICgnYSAtPiAncikgLT4gJ3IgdFxuICAgIGVuZFxuXG4gICAgbGV0IGhhbmRsZSAoQWN0aW9uLlQgKGEsIGYpKSB+b25fcmVzcG9uc2UgPSBvbl9yZXNwb25zZSAoZiBhKVxuICBlbmRcblxuICBtb2R1bGUgU3luY19mdW4gPSBEZWZpbmUxIChTeW5jX2Z1bl9hcmcpXG5cbiAgbGV0IG9mX3N5bmNfZnVuIGYgYSA9IFN5bmNfZnVuLmluamVjdCAoVCAoYSwgZikpXG5cbiAgbW9kdWxlIFByaXZhdGUgPSBzdHJ1Y3RcbiAgICBtb2R1bGUgQ2FsbGJhY2sgPSBzdHJ1Y3RcbiAgICAgIHR5cGUgbm9ucmVjICgnYSwgJ2IpIHQgPVxuICAgICAgICB7IHJlcXVlc3QgOiAnYVxuICAgICAgICA7IG9uX3Jlc3BvbnNlIDogJ2IgLT4gdW5pdCB0XG4gICAgICAgIH1cblxuICAgICAgbGV0IG1ha2UgfnJlcXVlc3Qgfm9uX3Jlc3BvbnNlID0geyByZXF1ZXN0OyBvbl9yZXNwb25zZSB9XG4gICAgICBsZXQgcmVxdWVzdCB7IHJlcXVlc3Q7IF8gfSA9IHJlcXVlc3RcbiAgICAgIGxldCByZXNwb25kX3RvIHsgb25fcmVzcG9uc2U7IF8gfSByZXNwb25zZSA9IG9uX3Jlc3BvbnNlIHJlc3BvbnNlXG4gICAgZW5kXG5cbiAgICBsZXQgbWFrZSA6IHJlcXVlc3Q6J2EgLT4gZXZhbHVhdG9yOigoJ2EsICdiKSBDYWxsYmFjay50IC0+IHVuaXQgdCkgLT4gJ2IgdCA9XG4gICAgICBmdW4gfnJlcXVlc3QgfmV2YWx1YXRvciAtPlxuICAgICAgRXhwZXJ0Lm9mX2Z1biB+ZjooZnVuIH5jYWxsYmFjayAtPlxuICAgICAgICBsZXQgY2FsbGJhY2sgPVxuICAgICAgICAgIENhbGxiYWNrLm1ha2UgfnJlcXVlc3Qgfm9uX3Jlc3BvbnNlOihmdW4gcmVzcG9uc2UgLT5cbiAgICAgICAgICAgIGNhbGxiYWNrIHJlc3BvbnNlO1xuICAgICAgICAgICAgSWdub3JlKVxuICAgICAgICBpblxuICAgICAgICBFeHBlcnQuaGFuZGxlIChldmFsdWF0b3IgY2FsbGJhY2spKVxuICAgIDs7XG4gIGVuZFxuXG4gIG1vZHVsZSBGb3JfdGVzdGluZyA9IHN0cnVjdFxuICAgIG1vZHVsZSBTdmFyID0gc3RydWN0XG4gICAgICB0eXBlICdhIHN0YXRlID1cbiAgICAgICAgfCBFbXB0eSBvZiB7IGhhbmRsZXJzIDogKCdhIC0+IHVuaXQpIEJhZy50IH1cbiAgICAgICAgfCBGdWxsIG9mICdhXG5cbiAgICAgIHR5cGUgJ2EgdCA9ICdhIHN0YXRlIHJlZlxuXG4gICAgICBsZXQgY3JlYXRlICgpID0gcmVmIChFbXB0eSB7IGhhbmRsZXJzID0gQmFnLmNyZWF0ZSAoKSB9KVxuXG4gICAgICBsZXQgdXBvbiB0IGhhbmRsZXIgPVxuICAgICAgICBtYXRjaCAhdCB3aXRoXG4gICAgICAgIHwgRW1wdHkgeyBoYW5kbGVycyB9IC0+IGlnbm9yZSAoQmFnLmFkZCBoYW5kbGVycyBoYW5kbGVyIDogXyBCYWcuRWx0LnQpXG4gICAgICAgIHwgRnVsbCB4IC0+IGhhbmRsZXIgeFxuICAgICAgOztcblxuICAgICAgbGV0IGZpbGxfaWZfZW1wdHkgdCB4ID1cbiAgICAgICAgbWF0Y2ggIXQgd2l0aFxuICAgICAgICB8IEZ1bGwgXyAtPiAoKVxuICAgICAgICB8IEVtcHR5IHsgaGFuZGxlcnMgfSAtPlxuICAgICAgICAgIEJhZy5pdGVyIGhhbmRsZXJzIH5mOihmdW4gaGFuZGxlciAtPiBoYW5kbGVyIHgpO1xuICAgICAgICAgIHQgOj0gRnVsbCB4XG4gICAgICA7O1xuXG4gICAgICBsZXQgcGVlayB0ID1cbiAgICAgICAgbWF0Y2ggIXQgd2l0aFxuICAgICAgICB8IEVtcHR5IF8gLT4gTm9uZVxuICAgICAgICB8IEZ1bGwgeCAtPiBTb21lIHhcbiAgICAgIDs7XG4gICAgZW5kXG5cbiAgICBtb2R1bGUgU3Zhcl9mdW5fYXJnID0gc3RydWN0XG4gICAgICBtb2R1bGUgQWN0aW9uID0gc3RydWN0XG4gICAgICAgIHR5cGUgJ3IgdCA9IFQgOiAnYSAqICgnYSAtPiAnciBTdmFyLnQpIC0+ICdyIHRcbiAgICAgIGVuZFxuXG4gICAgICBsZXQgaGFuZGxlIChBY3Rpb24uVCAoYSwgZikpIH5vbl9yZXNwb25zZSA9IFN2YXIudXBvbiAoZiBhKSBvbl9yZXNwb25zZVxuICAgIGVuZFxuXG4gICAgbW9kdWxlIFN2YXJfZnVuID0gRGVmaW5lMSAoU3Zhcl9mdW5fYXJnKVxuXG4gICAgbGV0IG9mX3N2YXJfZnVuIGYgYSA9IFN2YXJfZnVuLmluamVjdCAoVCAoYSwgZikpXG5cbiAgICBtb2R1bGUgUXVlcnlfcmVzcG9uc2VfdHJhY2tlciA9IHN0cnVjdFxuICAgICAgdHlwZSAoJ3EsICdyKSBycGMgPVxuICAgICAgICB7IHF1ZXJ5IDogJ3FcbiAgICAgICAgOyByZXNwb25zZSA6ICdyIFN2YXIudFxuICAgICAgICB9XG5cbiAgICAgIHR5cGUgKCdxLCAncikgdCA9ICgncSwgJ3IpIHJwYyBCYWcudFxuXG4gICAgICBsZXQgY3JlYXRlICgpID0gQmFnLmNyZWF0ZSAoKVxuXG4gICAgICBsZXQgYWRkX3F1ZXJ5IHQgcXVlcnkgPVxuICAgICAgICBsZXQgcmVzcG9uc2UgPSBTdmFyLmNyZWF0ZSAoKSBpblxuICAgICAgICBpZ25vcmUgKEJhZy5hZGQgdCB7IHF1ZXJ5OyByZXNwb25zZSB9IDogXyBCYWcuRWx0LnQpO1xuICAgICAgICByZXNwb25zZVxuICAgICAgOztcblxuICAgICAgbGV0IHF1ZXJpZXNfcGVuZGluZ19yZXNwb25zZSB0ID1cbiAgICAgICAgQmFnLnRvX2xpc3QgdCB8PiBMaXN0Lm1hcCB+ZjooZnVuIHsgcXVlcnk7IHJlc3BvbnNlID0gXyB9IC0+IHF1ZXJ5KVxuICAgICAgOztcblxuICAgICAgdHlwZSAnciBtYXliZV9yZXNwb25kID1cbiAgICAgICAgfCBOb19yZXNwb25zZV95ZXRcbiAgICAgICAgfCBSZXNwb25kIG9mICdyXG5cbiAgICAgIGxldCBtYXliZV9yZXNwb25kIHQgfmYgPVxuICAgICAgICBCYWcuZmlsdGVyX2lucGxhY2UgdCB+ZjooZnVuIHsgcXVlcnk7IHJlc3BvbnNlIH0gLT5cbiAgICAgICAgICBtYXRjaCBmIHF1ZXJ5IHdpdGhcbiAgICAgICAgICB8IE5vX3Jlc3BvbnNlX3lldCAtPiB0cnVlXG4gICAgICAgICAgfCBSZXNwb25kIHJlc3AgLT5cbiAgICAgICAgICAgIFN2YXIuZmlsbF9pZl9lbXB0eSByZXNwb25zZSByZXNwO1xuICAgICAgICAgICAgZmFsc2UpXG4gICAgICA7O1xuICAgIGVuZFxuXG4gICAgbGV0IG9mX3F1ZXJ5X3Jlc3BvbnNlX3RyYWNrZXIgcXJ0ID0gb2Zfc3Zhcl9mdW4gKFF1ZXJ5X3Jlc3BvbnNlX3RyYWNrZXIuYWRkX3F1ZXJ5IHFydClcbiAgZW5kXG5lbmRcblxuaW5jbHVkZSBBZHZhbmNlZFxuIl19
